<?php
function merged_function() {
    // Local variables converted from class context and function parameters
    $qs = null;
    $objectId = null;
    $pageNav = null;
    $export = false;
    $type = '';
    $sortOptions = array();
    $order_column = null;
    $order_by = '';
    $qselect = '';
    $qfrom = '';
    $title = '';

    // Logic merged from getQuery
    $qwhere = getQwhere($objectId, false, $type);
    $sort = ($_REQUEST['sort'] && $sortOptions[strtolower($_REQUEST['sort'])]) ? strtolower($_REQUEST['sort']) : 'timestamp';
    $order = getOrder($_REQUEST['order']);
    if ($order_column && strpos($order_column, ',')) {
        $order_column = str_replace(',', " $order,", $order_column);
    }
    $query = sprintf(
        "$qselect $qfrom $qwhere %s",
        $export ? '' : "ORDER BY $order_by LIMIT " . $pageNav->getStart() . "," . $pageNav->getLimit()
    );

    // Logic merged from getTableInfo
    $audits = db_query($query);
    if ($audits && ($num = db_num_rows($audits))) {
        $showing = $pageNav->showing() . ' ' . $title;
    }
}
?>